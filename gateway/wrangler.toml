name = "claw-shield-gateway"
main = "build/worker/shim.mjs"
compatibility_date = "2026-02-23"

[build]
command = "set PATH=%USERPROFILE%\\.cargo\\bin;%PATH% && cargo install -q worker-build && worker-build --release"

[vars]
# Optional. Defaults to 1 when missing.
OHTTP_KEY_ID = "1"

[env.dev.vars]
OHTTP_KEY_ID = "1"

# In production, inject secrets with wrangler secret.
# wrangler secret put OHTTP_PRIVATE_KEY_SEED_B64
# wrangler secret put RELAY_SHARED_TOKEN
